// Быстрая сортировка (QuickSort)
// Алгоритм типа "разделяй и властвуй", разбивающий массив на подмассивы
// и рекурсивно сортирующий их.
// 
// Принцип работы:
// 1. Выбирается опорный элемент (pivot) — обычно первый или случайный.
// 2. Массив делится на три части:
//    - элементы меньше опорного
//    - элементы равные опорному
//    - элементы больше опорного
// 3. Рекурсивно применяется quicksort к меньшим и большим подмассивам.
// 4. Результат собирается через конкатенацию: меньше + равные + больше.
// 
// Почему используется concat и порядок меньших-равных-больших:
// - concat объединяет отсортированные подмассивы в правильном порядке.
// - Сначала идут меньшие элементы (отсортированные), затем опорные (уже в правильной позиции),
//   потом большие — это гарантирует общий порядок.
// 
// Роль рекурсии:
// - Каждый вызов решает меньшую подзадачу.
// - Базовый случай: массив из 0 или 1 элемента — уже отсортирован.
// - Рекурсия продолжается, пока не достигнуты базовые случаи.
// 
// Опорный элемент (pivot):
// - Определяет разбиение массива.
// - Выбор pivot влияет на производительность: лучший случай — медиана, худший — крайние значения.
// - В этом примере берётся первый элемент, но можно использовать медиану трёх и др.

const qsort = (list: number[],) => {
    if (list.length < 2) {
        console.log(list);
        return list;
    } else {
        const [head, ...tail] = list;
        const pivot = head;
        const less = tail.filter(i => i < pivot);
        const greater = tail.filter(i => i > pivot);
        console.log('pivot ' + pivot + '\n' + 'less ' + less + '\n' + 'greater ' + greater + '\n\n');
        return qsort(less).concat(pivot, qsort(greater));
    }
};

console.log('result ' + qsort([1,3,2,5]));
